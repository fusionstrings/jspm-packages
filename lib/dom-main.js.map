{"version":3,"sources":["../src/dom-main.jsx"],"names":[],"mappings":"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","file":"dom-main.js","sourcesContent":["import { h, hydrate } from \"nano-jsx\";\nimport { Exports } from \"./exports.js\";\n\nasync function getStateHash({ name, version, subpath }) {\n  const { stateToHash } = await import(\n    \"https://generator.jspm.io/src/statehash.js\"\n  );\n  // U2VhYGBkDM0rySzJSU1hcMgqLsjVz8wtyC8q0c1NLHAw0DPWMwYAt5WJsiUA\n  const importPath = `${name}@${version}${subpath.slice(1)}`;\n  const deps = [importPath, !!subpath];\n\n  console.log(\"deps: \", JSON.stringify(deps));\n  const state = {\n    name: \"Untitled\",\n    deps,\n    env: {\n      development: true,\n      production: true,\n      browser: true,\n      node: false,\n      module: true,\n      deno: false,\n    },\n    output: {\n      system: false,\n      boilerplate: true,\n      minify: false,\n      json: false,\n      integrity: false,\n      preload: false,\n    },\n  };\n\n  console.table(state);\n  const stateHash = await stateToHash(state);\n  console.log(\"stateHash\", stateHash);\n\n  return stateHash;\n}\n\nif (typeof globalThis.document !== \"undefined\") {\n  const mountElement = document.querySelector(\"jspm-package-aside-exports\");\n  const { exports, name, version } = mountElement.dataset;\n  const parsedExports = JSON.parse(exports);\n\n  const exportHashesMap = {};\n  const exportHashes = await Promise.all(parsedExports.map(async (subpath) => {\n    const stateHash = await getStateHash({ name, version, subpath });\n    console.log(\"stateHash: \", stateHash);\n    exportHashesMap[subpath] = `https://generator.jspm.io/${stateHash}`;\n    return {\n      [subpath]: `https://generator.jspm.io/${stateHash}`,\n    };\n  }));\n  exportHashes.forEach((entry) => Object.entries(entry));\n  hydrate(\n    <Exports\n      exports={parsedExports}\n      name={name}\n      version={version}\n      exportHashes={exportHashesMap}\n    />,\n    mountElement,\n  );\n}\n"]}