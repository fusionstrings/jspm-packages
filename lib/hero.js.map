{"version":3,"sources":["../src/hero.jsx"],"names":[],"mappings":"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","file":"hero.js","sourcesContent":["/** @jsx h */\nimport { Component, h, Helmet } from \"nano-jsx\";\n\nclass Hero extends Component {\n  constructor(props) {\n    super(props);\n    const selectedExports = {};\n    props.exports.forEach((subpath) =>\n      selectedExports[subpath] = subpath === \".\"\n    );\n    this.exports = selectedExports;\n  }\n\n  exports;\n  generatorHash;\n\n  generateHash = async () => {\n    if (typeof globalThis.document !== \"undefined\") {\n      const { name, version } = this.props;\n\n      const { getStateHash } = await import(\"./generate-statehash.js\");\n      const exports = Object.keys(this.exports).filter((subpath) =>\n        this.exports[subpath] === true\n      );\n      const generatorHash = await getStateHash({\n        name,\n        version,\n        exports,\n      });\n\n      if (generatorHash) {\n        this.generatorHash = generatorHash;\n        this.update();\n      }\n    }\n  };\n\n  didMount() {\n    if (!this.generatorHash) {\n      this.generateHash();\n    }\n  }\n  toggleExportSelection = (event) => {\n    event.preventDefault();\n    console.log(event);\n    this.exports[event.target.value] = !this\n      .exports[event.target.value];\n    console.log(event.target.value);\n    this.generateHash();\n    this.update();\n  };\n\n  render() {\n    if (this.generatorHash) {\n      const { name, description, version, updated, types } = this.props;\n      const selectedImports = Object.keys(this.exports).filter((subpath) =>\n        this.exports[subpath] === true\n      );\n      const numSelectedImports = selectedImports.length;\n      const depText = `${numSelectedImports} ${\n        numSelectedImports > 1 ? \"dependencies\" : \"dependency\"\n      }`;\n      return (\n        <jspm-hero>\n          <jspm-hero-main>\n            <jspm-highlight>\n              <h2>{name}</h2>\n              <jspm-summary>\n                <span>{version}</span>\n                <span>Published {updated}</span>\n                {types && <img height=\"20\" src=\"/icon-typescript-logo.svg\" />}\n              </jspm-summary>\n              <p>{description}</p>\n            </jspm-highlight>\n\n            <jspm-hero-cta>\n              <jspm-hero-cta-generator>\n                <p>\n                  Customise importmap for selected {depText}.\n                </p>\n                <a\n                  target=\"_blank\"\n                  href={`https://generator.jspm.io/${this.generatorHash}`}\n                >\n                  JSPM Generator\n                </a>\n              </jspm-hero-cta-generator>\n            </jspm-hero-cta>\n          </jspm-hero-main>\n          <jspm-exports>\n            <h3>Package Exports</h3>\n            <ul>\n              {Object.entries(this.exports).map((\n                [subpath, selected],\n              ) => (\n                <li data-selected={selected}>\n                  <jspm-export>\n                    {\n                      /* <input\n                  type=\"checkbox\"\n                  {...(selected ? { checked: true } : {})}\n                  value={subpath}\n                  onClick={this.toggleExportSelection}\n                /> */\n                    }\n                    <button\n                      type=\"button\"\n                      class=\"code\"\n                      onClick={this.toggleExportSelection}\n                      value={subpath}\n                    >\n                      {`${name}${subpath.slice(1)}`}\n                    </button>\n                  </jspm-export>\n                </li>\n              ))}\n            </ul>\n          </jspm-exports>\n          <Helmet>\n            <style data-component-name=\"jspm-hero\">\n              {`\n              jspm-summary{\n                display: flex;\n                justify-content: center;\n                font-weight: 700;\n              }\n              jspm-summary > span:after{\n                content: '•';\n                margin: 0 10px;\n              }\n              jspm-exports{\n                max-height: 400px;\n                overflow-y: scroll;\n              }\n              jspm-exports ul{\n                margin: 0;\n                padding: 0 0 0 15px;\n              }\n              jspm-exports li{\n                padding-inline-start: 1ch;\n                list-style-type: '+';\n              }\n              jspm-exports li::marker {\n                color: var(--dl-color-primary-js-primary);\n              }\n              jspm-exports li[data-selected=\"true\"]{\n                list-style-type: '✔';\n              }\n              jspm-hero{\n                display: grid;\n                grid-template-columns: minmax(800px, 1fr) minmax(350px, 1fr);\n                grid-gap: 1rem;\n              }\n              jspm-export{\n                display: block;\n              }\n          jspm-export button {\n              background: white;\n              border: none;\n              cursor: pointer;\n              display: block;\n              line-height: 30px;\n              border-radius: 5px;\n              text-align: left;\n          }\n          jspm-hero-cta{\n            display: flex;\n            justify-content: space-around;\n            text-align: center;\n          }\n          jspm-hero-cta p{\n            font-family: \"Bebas Neue\", cursive;\n            font-size: var(--step-1);\n          }\n          jspm-hero-cta a{\n            background: var(--dl-color-primary-js-primary);\n            color: black;\n            padding: 15px;\n            display: inline-block;\n            border: 3px solid black;\n          }\n          /*\n          jspm-export button[data-selected=\"true\"]{\n            border: none;\n            background: #FFC95C;\n            display: block;\n            width: 100%;\n            box-shadow: 2px 2px 24px 0px #00000026;\n          }\n          \n          jspm-export button:before {\n              content: '';\n              width: 20px;\n              height: 20px;\n              background: url('/images/icon-add.svg') center center no-repeat;\n              color: black;\n              display: inline-block;\n              margin: 10px;\n          }\n          jspm-export button[data-selected=\"true\"]:before {\n            background: url('/images/icon-check.svg') center center no-repeat;\n          }\n          */\n          `}\n            </style>\n          </Helmet>\n        </jspm-hero>\n      );\n    } else {\n      return <div></div>;\n    }\n  }\n}\n\nexport { Hero };\n"]}