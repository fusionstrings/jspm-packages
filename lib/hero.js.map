{"version":3,"sources":["../src/hero.jsx"],"names":[],"mappings":"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","file":"hero.js","sourcesContent":["/** @jsx h */\nimport nano, { Component, h } from \"nano-jsx\";\n\nconst { Helmet  } = nano;\n\nclass Hero extends Component {\n  constructor(props) {\n    super(props);\n    const selectedExports = {};\n    props.exports.forEach((subpath) =>\n      selectedExports[subpath] = subpath === \".\"\n    );\n    this.exports = selectedExports;\n  }\n\n  exports;\n  generatorHash;\n\n  generateHash = async () => {\n    if (typeof globalThis.document !== \"undefined\") {\n      const { name, version } = this.props;\n\n      const { getStateHash } = await import(\"./generate-statehash.js\");\n      const exports = Object.keys(this.exports).filter((subpath) =>\n        this.exports[subpath] === true\n      );\n      const generatorHash = await getStateHash({\n        name,\n        version,\n        exports,\n      });\n\n      if (generatorHash) {\n        this.generatorHash = generatorHash;\n        this.update();\n      }\n    }\n  };\n\n  didMount() {\n    if (!this.generatorHash) {\n      this.generateHash();\n    }\n  }\n  toggleExportSelection = (event) => {\n    event.preventDefault();\n    console.log(event);\n    this.exports[event.target.value] = !this\n      .exports[event.target.value];\n    console.log(event.target.value);\n    this.generateHash();\n    this.update();\n  };\n\n  render() {\n    if (this.generatorHash) {\n      const { name, description, version, updated, types } = this.props;\n      const selectedImports = Object.keys(this.exports).filter((subpath) =>\n        this.exports[subpath] === true\n      );\n      const numSelectedImports = selectedImports.length;\n      const depText = `${numSelectedImports} ${\n        numSelectedImports > 1 ? \"dependencies\" : \"dependency\"\n      }`;\n      return (\n        <jspm-hero>\n          <jspm-hero-main>\n            <jspm-highlight>\n              <h2>{name}</h2>\n              <jspm-summary>\n                <span>{version}</span>\n                <span>Published {updated}</span>\n                {types && <img height=\"20\" src=\"/icon-typescript-logo.svg\" />}\n              </jspm-summary>\n              <p>{description}</p>\n            </jspm-highlight>\n\n            <jspm-hero-cta>\n              <jspm-hero-cta-generator>\n                <p>\n                  Customise importmap for selected {depText}.\n                </p>\n                <a\n                  target=\"_blank\"\n                  href={`https://generator.jspm.io/${this.generatorHash}`}\n                >\n                  JSPM Generator\n                </a>\n              </jspm-hero-cta-generator>\n            </jspm-hero-cta>\n          </jspm-hero-main>\n          <jspm-exports>\n            <h3>Package Exports</h3>\n            <ul>\n              {Object.entries(this.exports).map((\n                [subpath, selected],\n              ) => (\n                <li data-selected={selected}>\n                  <jspm-export>\n                    {\n                      /* <input\n                  type=\"checkbox\"\n                  {...(selected ? { checked: true } : {})}\n                  value={subpath}\n                  onClick={this.toggleExportSelection}\n                /> */\n                    }\n                    <button\n                      type=\"button\"\n                      class=\"code\"\n                      onClick={this.toggleExportSelection}\n                      value={subpath}\n                    >\n                      {`${name}${subpath.slice(1)}`}\n                    </button>\n                  </jspm-export>\n                </li>\n              ))}\n            </ul>\n          </jspm-exports>\n          <Helmet>\n            <style data-component-name=\"jspm-hero\">\n              {`\n              jspm-summary{\n                display: flex;\n                justify-content: center;\n                font-weight: 700;\n              }\n              jspm-summary > span:after{\n                content: '•';\n                margin: 0 10px;\n              }\n              jspm-exports{\n                max-height: 400px;\n                overflow-y: scroll;\n              }\n              jspm-exports ul{\n                margin: 0;\n                padding: 0 0 0 15px;\n              }\n              jspm-exports li{\n                padding-inline-start: 1ch;\n                list-style-type: '+';\n              }\n              jspm-exports li::marker {\n                color: var(--dl-color-primary-js-primary);\n              }\n              jspm-exports li[data-selected=\"true\"]{\n                list-style-type: '✔';\n              }\n              jspm-hero{\n                display: grid;\n                grid-template-columns: minmax(800px, 1fr) minmax(350px, 1fr);\n                grid-gap: 1rem;\n              }\n              jspm-export{\n                display: block;\n              }\n          jspm-export button {\n              background: white;\n              border: none;\n              cursor: pointer;\n              display: block;\n              line-height: 30px;\n              border-radius: 5px;\n              text-align: left;\n          }\n          jspm-hero-cta{\n            display: flex;\n            justify-content: space-around;\n            text-align: center;\n          }\n          jspm-hero-cta p{\n            font-family: \"Bebas Neue\", cursive;\n            font-size: var(--step-1);\n          }\n          jspm-hero-cta a{\n            background: var(--dl-color-primary-js-primary);\n            color: black;\n            padding: 15px;\n            display: inline-block;\n            border: 3px solid black;\n          }\n          /*\n          jspm-export button[data-selected=\"true\"]{\n            border: none;\n            background: #FFC95C;\n            display: block;\n            width: 100%;\n            box-shadow: 2px 2px 24px 0px #00000026;\n          }\n          \n          jspm-export button:before {\n              content: '';\n              width: 20px;\n              height: 20px;\n              background: url('/images/icon-add.svg') center center no-repeat;\n              color: black;\n              display: inline-block;\n              margin: 10px;\n          }\n          jspm-export button[data-selected=\"true\"]:before {\n            background: url('/images/icon-check.svg') center center no-repeat;\n          }\n          */\n          `}\n            </style>\n          </Helmet>\n        </jspm-hero>\n      );\n    } else {\n      return <div></div>;\n    }\n  }\n}\n\nexport { Hero };\n"]}