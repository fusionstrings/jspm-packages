{"version":3,"sources":["../src/exports.jsx"],"names":[],"mappings":"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","file":"exports.js","sourcesContent":["import { Component, h, Helmet } from \"nano-jsx\";\nimport {\n  getCleanPath,\n  main as importMapGenerator,\n} from \"./importmap-generator.js\";\n\nclass ImportMap extends Component {\n  constructor(props) {\n    super(props);\n  }\n\n  importMaps;\n\n  async didMount() {\n    if (!this.importMaps) {\n      const { target, subpaths } = this.props;\n      const importMap = await importMapGenerator({ target, subpaths });\n\n      if (importMap) {\n        this.importMaps = importMap;\n        this.update();\n      }\n    }\n  }\n\n  render() {\n    if (this.importMaps) {\n      return (\n        <pre>\n          <code\n            innerHTML={{\n              __dangerousHtml: JSON.stringify(this.importMaps, null, 2),\n            }}\n          />\n        </pre>\n      );\n    } else {\n      return <div>{this.props.subpath}</div>;\n    }\n  }\n}\n\nfunction SubpathImportMap(\n  { subpath, name, version },\n) {\n  return (\n    <jspm-package-exports-subpath-importmap>\n      <ImportMap target={`${name}@${version}`} subpaths={[subpath]} />\n    </jspm-package-exports-subpath-importmap>\n  );\n}\n\nfunction Subpath({ importPath }) {\n  return (\n    <jspm-package-exports-subpath>\n      {importPath}\n    </jspm-package-exports-subpath>\n  );\n}\n\nfunction Exports(\n  { exports, name, version, exportHashes },\n) {\n  return (\n    <jspm-package-exports>\n      {\n        <ul class=\"package-files\">\n          {exportHashes && exports?.map(\n            (subpath) => {\n              const href = exportHashes[subpath];\n              return (\n              <li>\n                <a\n                  target=\"_blank\"\n                  href={href}\n                  class=\"package-file\"\n                >\n                  {`${name}${subpath.slice(1)}`}\n                </a>\n              </li>\n            )},\n          )}\n        </ul>\n      }\n      <Helmet>\n        <style data-page=\"package-details\">\n          {`\n            .package-file {\n              display: block;\n              line-height: 1.3;\n            }\n            .package-files {\n              list-style: none;\n              padding-left: 0px;\n              height: 500px;\n              overflow: scroll;\n            }\n            .package-files li {\n              line-height: 1.3;\n            }\n            `}\n        </style>\n      </Helmet>\n    </jspm-package-exports>\n  );\n}\nexport { Exports };\n"]}