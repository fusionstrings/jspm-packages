{"version":3,"sources":["../src/exports.jsx"],"names":[],"mappings":"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","file":"exports.js","sourcesContent":["import { Component, h, Helmet } from \"nano-jsx\";\nimport {\n  getCleanPath,\n  main as importMapGenerator,\n} from \"./importmap-generator.js\";\n\nclass ImportMap extends Component {\n  constructor(props) {\n    super(props);\n  }\n\n  importMaps;\n\n  async didMount() {\n    if (!this.importMaps) {\n      const { target, subpaths } = this.props;\n      const importMap = await importMapGenerator({ target, subpaths });\n\n      if (importMap) {\n        this.importMaps = importMap;\n        this.update();\n      }\n    }\n  }\n\n  render() {\n    if (this.importMaps) {\n      return (\n        <pre>\n          <code\n            innerHTML={{\n              __dangerousHtml: JSON.stringify(this.importMaps, null, 2),\n            }}\n          />\n        </pre>\n      );\n    } else {\n      return <div>{this.props.subpath}</div>;\n    }\n  }\n}\n\nfunction SubpathImportMap(\n  { importMap },\n) {\n  return (\n    <jspm-package-exports-subpath-importmap>\n      <pre>\n          <code\n            innerHTML={{\n              __dangerousHtml: JSON.stringify(importMap, null, 2),\n            }}\n          />\n        </pre>\n    </jspm-package-exports-subpath-importmap>\n  );\n}\n\nfunction Subpath({ importPath }) {\n  return (\n    <jspm-package-exports-subpath>\n      {importPath}\n    </jspm-package-exports-subpath>\n  );\n}\n\nfunction Exports(\n  { exports, name, version, importMaps },\n) {\n  return (\n    <jspm-package-exports>\n      {exports.map((subpath) => {\n        return (\n          <jspm-package-exports-entry>\n            <details\n              data-subpath={subpath}\n              data-dependency={`${name}@${version}${getCleanPath(subpath)}`}\n            >\n              <summary>\n                <Subpath\n                  subpath={subpath}\n                  name={name}\n                  version={version}\n                  importPath={`${name}${getCleanPath(subpath)}`}\n                />\n              </summary>\n              <SubpathImportMap\n                subpath={subpath}\n                name={name}\n                version={version}\n                importMap={importMaps[subpath]}\n              />\n            </details>\n          </jspm-package-exports-entry>\n        );\n      })}\n      <Helmet>\n        <style data-page=\"package-details\">\n          {`\n            jspm-package-exports-entry {\n                display: flex;\n                display: block;\n                padding-left: 10px;\n            }\n            jspm-package-exports-target{\n                margin-left: 20px;\n                display: block;\n            }\n            \n            `}\n        </style>\n      </Helmet>\n    </jspm-package-exports>\n  );\n}\nexport { Exports };\n"]}